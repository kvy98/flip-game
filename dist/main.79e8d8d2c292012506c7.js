(()=>{var e={755:(e,t,s)=>{e.exports=s.p+"img/10c9e18fda14e721c666e35987d55222.jpeg"},143:(e,t,s)=>{e.exports=s.p+"img/a8b01d8def7a20c35886ae0835452acc.jpg"},949:(e,t,s)=>{e.exports=s.p+"img/1d1661fc2ccd21c3e774785314c54e18.jpeg"},399:(e,t,s)=>{e.exports=s.p+"img/157887cb12b94dcbce3acc62329243ef.jpeg"},397:(e,t,s)=>{e.exports=s.p+"img/42cb40788817de19fa26078659f43d9e.jpeg"},209:(e,t,s)=>{e.exports=s.p+"img/b72431fffbef3f74ddc2433893f2dbee.jpeg"},783:(e,t,s)=>{e.exports=s.p+"img/132945c13ac0f616a11e402fd25508bf.jpeg"},239:(e,t,s)=>{e.exports=s.p+"img/05b6de94e2114dd99e9b9d789f469091.jpeg"},863:(e,t,s)=>{e.exports=s.p+"img/2aed53fcca36b782530c2752df24ef78.jpeg"},776:(e,t,s)=>{e.exports=s.p+"img/2fe1731d64b77700e40abfed32925d84.jpeg"},18:(e,t,s)=>{e.exports=s.p+"img/212df5d2aa9f46b61871a23f993a3166.jpeg"},145:(e,t,s)=>{e.exports=s.p+"img/6862751eb0c94bcf5e25b551f7f113ce.jpeg"},267:(e,t,s)=>{e.exports=s.p+"audio/fea56c56063ed525ad5c5cf2584de3b0.mp3"},922:(e,t,s)=>{e.exports=s.p+"audio/96035cc5efdd776196e158859a40500d.mp3"}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var c=t[i]={exports:{}};return e[i](c,c.exports,s),c.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{"use strict";s(143),s(755);class e extends HTMLElement{constructor(e){super(),this.className="scene",this.insertAdjacentHTML("afterbegin",e)}load(){}}window.customElements.define("ecustom-scene",e);class t extends e{#e;#t;constructor(e='\n<button class="btn btn--start">New Game</button>\n<button class="btn btn--score">Hight Score</button>\n'){super(e),this.classList.add("scene--start"),this.#e=this.querySelector(".btn--start"),this.#t=this.querySelector(".btn--score"),this.attachEvent=function({btnStartHandle:e,btnScoreHanle:t}){this.#e.addEventListener("click",e),this.#t.addEventListener("click",(function(){this.disabled=!0;const e=t();setTimeout((()=>{this.disabled=!1}),1e3*e)})),delete this.attachEvent}}}window.customElements.define("start-scene",t);const i=e=>Math.trunc(Math.random()*e);function n(){return window.localStorage.getItem("hight-score")}class c extends HTMLElement{constructor(e){super(),this.className="card";const t=document.createElement("img");t.src=e,t.className="card__img",this.imgElement=t,this.appendChild(t)}flipUp(){this.classList.add("flip")}flipDown(){this.classList.remove("flip")}}window.customElements.define("ecustom-card",c);class r extends HTMLElement{constructor(e,t,s){super(),this.title=e,this.message=t,this.onExit=s}show(){const e=document.createElement("button"),t=document.createElement("p"),s=document.createElement("p");s.innerText=this.message,s.classList.add("score"),t.classList.add("title"),t.textContent=this.title,this.classList.add("modal-game-over"),this.appendChild(t),this.appendChild(s),this.appendChild(e),e.innerText="Exit",e.addEventListener("click",(()=>{this.onExit?.(),this.remove()})),document.body.appendChild(this)}}window.customElements.define("ecustom-modal",r);var a=s(949),o=s.n(a),d=s(397),l=s.n(d),h=s(209),u=s.n(h),p=s(783),m=s.n(p),f=s(239),b=s.n(f),g=s(863),E=s.n(g),L=s(776),v=s.n(L),S=s(18),x=s.n(S),w=s(145),T=s.n(w),y=s(399),C=s.n(y),k=s(267),j=s.n(k),P=s(922),H=s.n(P);const M={FLIP:j(),POINT:H()},N=[o(),l(),u(),m(),b(),E(),v(),x(),T(),C()];class I extends e{#s=0;#i=0;#n=[];#c=[];#r=!1;#a=800;#o=0;#d;#l=0;#h=[{LEVEL:1,NUM_CARD:20},{LEVEL:2,NUM_CARD:40},{LEVEL:3,NUM_CARD:60},{LEVEL:4,NUM_CARD:80},{LEVEL:5,NUM_CARD:100}];#u;constructor(e='\n    <audio id="audio"></audio>\n    <div class="game-status">\n      <p id="your-score"></p>\n      <p id="time"></p>\n      <p id="level">0</p>\n    </div>\n    <ul class="cards"></ul>\n'){super(e),this.classList.add("scene--play"),this.levelLabel=this.querySelector("#level"),this.timeLabel=this.querySelector("#time"),this.scoreLabel=this.querySelector("#your-score"),this.audio=this.querySelector("#audio"),this.cardContainer=this.querySelector(".cards"),this.attachEvent=function({onExitScene:e}){this.#u=e,delete this.attachEvent},this.audio.addEventListener("canplaythrough",(function(){this.play()})),this.cardContainer.addEventListener("click",(e=>{const t=e.target;if(e.target&&t.classList.contains("card")&&!t.classList.contains("flip")&&!this.#r&&(this.#c.length>=2&&(this.#c.forEach((e=>e.flipDown())),this.#c=[]),this.#c.push(t),t.flipUp(),this.#p(),2==this.#c.length)){const[e,t]=this.#c;if(e.querySelector("img").src!=t.querySelector("img").src)return;this.#p(M.POINT),this.#r=!0,setTimeout((()=>{if(e.remove(),t.remove(),this.#n.pop(),this.#n.pop(),this.#c=[],this.#o+=10,this.scoreLabel.textContent=`Score:${this.#o}`,this.#r=!1,!this.#n.length){if(clearInterval(this.#d),this.#h.length-1===this.#i)return void this.#m();this.#f()}}),this.#a)}}))}load(){super.load();const{NUM_CARD:e,LEVEL:t}=this.#h[this.#i],s=4*e;this.timeLabel.innerText=s,this.levelLabel.innerText=t,this.scoreLabel.innerText=`Score:${this.#o}`;let n={},r=[...N];const a=e/N.length;for(let t=0;t<e;t++){let t=i(r.length),o=r[t];if(n[o]===a)do{r=r.filter((e=>e!=r[t])),t=i(r.length),o=r[t]}while(n[o]===a);const d=new c(`${r[t]}`);this.#n.push(d),this.cardContainer.appendChild(d),n[o]=n[o]+1||1,d.imgElement.addEventListener("load",(()=>{this.#s++,this.#s==e&&this.#b(s)}))}}#b(e){this.#d=setInterval((()=>{this.#l++,this.timeLabel.innerText=e-this.#l,this.#l==e&&(clearInterval(this.#d),this.#m())}),1e3)}#g(){this.#l=0,this.#c=[],this.#n=[],this.#i=0,this.#o=0,this.cardContainer.innerHTML=""}#f(){this.#l=0,this.#c=[],this.#n=[],this.#i++,this.cardContainer.innerHTML="",this.load()}#p(e=M.FLIP){this.audio.src=e}#m(){const e=`YOUR SCORE:${this.#o}`,t=new r("GAME OVER",e,this.#u.bind(this));!function(e=0){const t=window.localStorage,s=n();(!s||s<e)&&t.setItem("hight-score",e)}(this.#o),t.show(),this.#g(),this.remove()}}window.customElements.define("play-scene",I);const O=[new t,new I];new class{#E;constructor(e){this.scenes=e;const[t,s]=e;this.#E=t;const i=this;s.attachEvent({onExitScene:function(){i.#E=t,i.#L()}}),t.attachEvent({btnStartHandle:function(){i.#E.remove(),i.#E=i.scenes.at(-1),i.#L()},btnScoreHanle:function(){const e=n(),t=new r("HIGHT SCORE",`Your highest score:${e}`);t.show();const{animationDuration:s}=getComputedStyle(t);return Number.parseFloat(s)}}),this.#L()}#L(){this.#E.load(),document.body.appendChild(this.#E)}}(O)})()})();